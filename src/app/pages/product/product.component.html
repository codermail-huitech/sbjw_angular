<div class="d-flex col">
  <div class="col">
    <mat-card>
      <div class="form-container">
        <form [formGroup] = productForm>
          <div class="container" fxLayout="column" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
            <mat-form-field>
              <input matInput placeholder="Model Number" formControlName="model_number">
            </mat-form-field>

            <mat-form-field>
              <mat-placeholder>Product Name</mat-placeholder>
              <input matInput formControlName="product_name">
            </mat-form-field>

            <mat-form-field>
              <mat-label>Price Code</mat-label>
              <mat-select  formControlName="price_code_id">
                <mat-option *ngFor="let priceCode of priceCodes" [value]="priceCode.id">
                  {{priceCode.price_code_name}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-label>Product Category</mat-label>
              <mat-select formControlName="product_category_id">
                <mat-option *ngFor="let productCategory of productCategories" [value]="productCategory.id">
                  {{productCategory.category_name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </form>

        <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0" >
          <button mat-button (click)="onSubmit()" [disabled]="!productForm.valid" mat-stroked-button>Save</button>
          <button mat-button (click)="updateProduct()" [disabled]="!productForm.dirty" mat-stroked-button>Update</button>
          <button mat-button (click)="clearProductForm()" mat-stroked-button>clear</button>
        </div>

      </div>
    </mat-card>

  </div>
  <div class="col" id="customer-table">
    <table class="table" id="my-table">
      <thead>
      <tr>
        <th>SL No.</th>
        <th>Product Name</th>
        <th>Model Number</th>
        <th>Price Code</th>
        <th>Product Category</th>
        <th>Edit</th>
        <th>Delete</th>
      </tr>
      </thead>
      <tbody>
      <tr  *ngFor="let product of products;let indexOfelement=index;">
        <td>{{indexOfelement+1}}</td>
        <td sortable-column="person_name">{{product.product_name}}</td>
        <td>{{product.model_number}}</td>
        <td>{{product.price_code_name}}</td>
        <td>{{product.category_name}}</td>
        <td>
          <button mat-icon-button color="primary" aria-label="Edit Product" (click)="populateFormByCurrentProduct(product)">
            <mat-icon>edit</mat-icon>
          </button>
        </td>
        <td>
          <button mat-icon-button color="warn" aria-label="Edit Customer" (click)="deleteCurrentProduct(product)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
