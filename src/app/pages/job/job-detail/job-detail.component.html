
<!--<div style="background-color: white">-->
<!--  <h1>JOb </h1>-->
<!--  <pre>{{id}}</pre>-->
<!--  <pre>{{oneJobData | json}}</pre>-->
<!--</div>-->
<div fxLayout.xs="column" fxLayout="row" fxLayoutAlign="space-between stretch" fxFlexFill id="jobDetail-div">


  <div fxLayout="row" fxFlex="40" class="mr-1" id ="jobBill-div">
<!--    <button-->
<!--      mat-stroked-button-->
<!--      [printStyle]="printDivStyle"-->
<!--      printSectionId="bill-div"-->
<!--      ngxPrint><mat-icon>print</mat-icon></button>-->
    <div fxLayout="column" fxFlex="20" ></div>
    <div fxLayout="column" fxFlex="60" style="background-color: white" id="bill-div" >
      <div class="row">
        <div class="col">
          <button
            mat-stroked-button
            [printStyle]="printDivStyle"
            printSectionId="printDiv"
            ngxPrint ><mat-icon>print</mat-icon>
            Print with transaction
          </button>
        </div>
        <div class="col">
          <button
            mat-stroked-button
            [printStyle]="printDivStyle"
            printSectionId="printSummery"
            ngxPrint ><mat-icon>print</mat-icon>
            Print without transaction
          </button>
        </div>
      </div>
    <div id="printDiv">
      <div id="printSummery">
      <mat-card class="ml-2 mt-2">
        <div class="form-container">

          <div class="container" *ngIf="oneJobData" fxLayout="column" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
            <label style="text-align: center"><b>Job ID : {{oneJobData.job_number}}</b></label>
            <label>Challan No : &nbsp;{{oneJobData.order_number}}</label>
            <label>Date : &nbsp;{{oneJobData.date}}&nbsp;&nbsp; DD : {{oneJobData.date_of_delivery}} </label>
            <label>Model : &nbsp;<b>{{oneJobData.model_number}}</b>&nbsp;&nbsp; Pcs : <b>{{oneJobData.quantity}}</b>&nbsp;&nbsp;Size :<b>{{oneJobData.size}}</b></label>
            <table style=""  *ngIf="totalData">
              <tbody>
              <tr>
                <td colspan="2" class="col-6">Thokai :</td>
                <td colspan="2" class="col-6">Tonch : {{oneJobData.material_name}}</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">Ring W. :</td>
                <td colspan="2" class="col-6">A Wt. :</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">Mina :</td>
                <td colspan="2" class="col-6">Forming :</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">M.C. :</td>
                <td colspan="2" class="col-6">Gold : {{totalData[0] ? totalData[0].total.toFixed(3) : 0}} </td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">H.M.C :</td>
                <td colspan="2" class="col-6">RGW- :{{totalData[1] ? totalData[1].total.toFixed(3) : 0}}</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">H.C. :</td>
                <td colspan="2" class="col-6">PWt. :</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">Polish :</td>
                <td colspan="2" class="col-6">NGR- : {{totalData[6] ? totalData[6].total.toFixed(3) : 0}}</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">Dal: {{totalData[2] ? totalData[2].total.toFixed(3) : 0}}</td>
                <td colspan="2" class="col-6">Pan+ : {{totalData[4] ? totalData[4].total.toFixed(3) : 0}}</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">Bnz : {{totalData[7] ? totalData[7].total.toFixed(3) : 0}}</td>
                <td colspan="2" class="col-6">PLoss+ :{{oneJobData.p_loss}}</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6">Bati No :</td>
                <td colspan="2" class="col-6">FG Wt. =</td>
              </tr>
              <tr>
                <td colspan="2" class="col-6"></td>
                <td colspan="2" class="col-6">B. Wt. :</td>
              </tr>
              </tbody>
            </table>
            <label>Karigarh :<b>{{karigarhName}}</b> </label>
            <label>User : {{userData.personName}}</label>
            <label>POS :</label>
            <label>Time :</label>
            <br><br><br>
          </div>
        </div>
      </mat-card>
      </div>
<!--      <div [hidden]="!showTransactionDiv">-->
      <div  class="col-12">
<!--        <router-outlet ></router-outlet>-->
<!--        <pre>{{jobTransactionData | json}}</pre>-->
        <div id ="job-transaction-table-div">
          <table class="table" style="" id="my-table">
            <thead>
            <tr>
              <th colspan="2">SL. NO</th>
              <th colspan="6">Statement For Transaction</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let item of jobTransactionData ; let indexOfelement = index;" [hidden]="jobTransactionData.length === 0">
              <td colspan="2">{{indexOfelement+1}}</td>
              <td colspan="6">{{item.material_quantity.toFixed(3)}}gm {{item.task_name}}ed by {{item.person_name}} on {{item.date}} at {{item.time}} &nbsp;&nbsp;&nbsp;{{((indexOfelement+1)==1)? "[JOB STARTED]": " "}}</td>
            </tr>
            <tr [hidden]="!(jobTransactionData.length === 0)">
              <td colspan="2"> </td>
              <td colspan="6">NO TRANSACTION TO SHOW</td>
            </tr>

            </tbody>

          </table>

        </div>


      </div>
    </div>
<!--    <div fxLayout="column" fxFlex="20"></div>-->
    </div>

  </div>

  <div fxLayout="column" fxFlex="60" class="mr-1" id ="jobTask-div" style="background-color: #e8af0a">
    <div class="m-2">
      <button type="button"  class="btn btn-warning" [hidden]="oneJobData.status_id==100" [routerLink]="['./goldSubmit']">Gold Submit</button>
      <button type="button"  class="btn btn-primary" [hidden]="oneJobData.status_id==100" [routerLink]="['./goldReturn']">Gold Return</button>
      <button type="button" class="btn btn-warning"  [hidden]="oneJobData.status_id==100" [routerLink]="['./dalSubmit']">Dal Submit</button>
      <button type="button" class="btn btn-primary"  [hidden]="oneJobData.status_id==100" [routerLink]="['./dalReturn']">Dal Return</button>
      <button type="button" class="btn btn-warning"  [hidden]="oneJobData.status_id==100" [routerLink]="['./panSubmit']">Pan Submit</button>
      <button type="button" class="btn btn-primary"  [hidden]="oneJobData.status_id==100" [routerLink]="['./panReturn']">Pan Return</button>
      <button type="button" class="btn btn-warning"  [hidden]="oneJobData.status_id==100" [routerLink]="['./nitricReturn']">Nitric Return</button>
      <button type="button" class="btn btn-primary"  [hidden]="oneJobData.status_id==100" [routerLink]="['./bronzeSubmit']">Bronze Submit</button>
<!--      <button type="button" class="btn btn-primary"><a href="job_transaction/{{oneJobData.id}}">Transaction Details</a></button>-->
      <button type="button" class="btn btn-warning" [routerLink]="['./job_transaction']">Details</button>
      <button type="button" class="btn btn-primary"  [hidden]="oneJobData.status_id==100"   [routerLink]="['./job_finish']">Finish</button>

<!--      <a [routerLink]="['./tracks']">Tracks</a> |-->
    </div>
    <div>
      <router-outlet ></router-outlet>
    </div>
    <div>

    </div>
  </div>

</div>
